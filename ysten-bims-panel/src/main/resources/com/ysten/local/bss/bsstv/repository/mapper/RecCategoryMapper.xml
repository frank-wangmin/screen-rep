<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ysten.local.bss.bsstv.repository.mapper.RecCategoryMapper">
  <resultMap id="BaseResultMap" type="com.ysten.local.bss.bsstv.domain.RecCategory">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    <id column="CATG_ID" jdbcType="BIGINT" property="catgId" />
    <result column="FID" jdbcType="BIGINT" property="fid" />
    <result column="Grade" jdbcType="BIGINT" property="grade" />
    <result column="Type" jdbcType="INTEGER" property="type" />
    <result column="Name" jdbcType="VARCHAR" property="name" />
    <result column="FDNCode" jdbcType="VARCHAR" property="fdncode" />
    <result column="CATG_ALIAS" jdbcType="VARCHAR" property="catgAlias" />
    <result column="TITLE_NAME" jdbcType="VARCHAR" property="titleName" />
    <result column="PARENT_CATG_ID" jdbcType="BIGINT" property="parentCatgId" />
    <result column="CATG_NUMBER" jdbcType="INTEGER" property="catgNumber" />
    <result column="ACTION_TYPE_ID" jdbcType="VARCHAR" property="actionTypeId" />
    <result column="ACTION_LINK" jdbcType="VARCHAR" property="actionLink" />
    <result column="SUB_STYLE_ID" jdbcType="VARCHAR" property="subStyleId" />
    <result column="CATG_TYPE_ID" jdbcType="VARCHAR" property="catgTypeId" />
    <result column="INNER_PIC" jdbcType="VARCHAR" property="innerPic" />
    <result column="OUT_PIC" jdbcType="VARCHAR" property="outPic" />
    <result column="STATUS" jdbcType="VARCHAR" property="status" />
    <result column="CATG_DESC" jdbcType="VARCHAR" property="catgDesc" />
    <result column="CITE_CATG_ITEM_ID" jdbcType="BIGINT" property="citeCatgItemId" />
    <result column="CREATE_TIME" jdbcType="TIMESTAMP" property="createTime" />
    <result column="CREATE_USER" jdbcType="VARCHAR" property="createUser" />
    <result column="LAST_MODIFY_DATE" jdbcType="TIMESTAMP" property="lastModifyDate" />
    <result column="LAST_MODIFY_USER" jdbcType="VARCHAR" property="lastModifyUser" />
    <result column="SHOW_SUM" jdbcType="INTEGER" property="showSum" />
    <result column="ASSORTMENT_ID" jdbcType="VARCHAR" property="assortmentId" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    CATG_ID, FID, Grade, Type, Name, FDNCode, CATG_ALIAS, TITLE_NAME, PARENT_CATG_ID, 
    CATG_NUMBER, ACTION_TYPE_ID, ACTION_LINK, SUB_STYLE_ID, CATG_TYPE_ID, INNER_PIC, 
    OUT_PIC, STATUS, CATG_DESC, CITE_CATG_ITEM_ID, CREATE_TIME, CREATE_USER, LAST_MODIFY_DATE, 
    LAST_MODIFY_USER, SHOW_SUM, ASSORTMENT_ID
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    select 
    <include refid="Base_Column_List" />
    from rec_category
    where CATG_ID = #{catgId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    delete from rec_category
    where CATG_ID = #{catgId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.ysten.local.bss.bsstv.domain.RecCategory">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    insert into rec_category (CATG_ID, FID, Grade, 
      Type, Name, FDNCode, 
      CATG_ALIAS, TITLE_NAME, PARENT_CATG_ID, 
      CATG_NUMBER, ACTION_TYPE_ID, ACTION_LINK, 
      SUB_STYLE_ID, CATG_TYPE_ID, INNER_PIC, 
      OUT_PIC, STATUS, CATG_DESC, 
      CITE_CATG_ITEM_ID, CREATE_TIME, CREATE_USER, 
      LAST_MODIFY_DATE, LAST_MODIFY_USER, SHOW_SUM, 
      ASSORTMENT_ID)
    values (#{catgId,jdbcType=BIGINT}, #{fid,jdbcType=BIGINT}, #{grade,jdbcType=BIGINT}, 
      #{type,jdbcType=INTEGER}, #{name,jdbcType=VARCHAR}, #{fdncode,jdbcType=VARCHAR}, 
      #{catgAlias,jdbcType=VARCHAR}, #{titleName,jdbcType=VARCHAR}, #{parentCatgId,jdbcType=BIGINT}, 
      #{catgNumber,jdbcType=INTEGER}, #{actionTypeId,jdbcType=VARCHAR}, #{actionLink,jdbcType=VARCHAR}, 
      #{subStyleId,jdbcType=VARCHAR}, #{catgTypeId,jdbcType=VARCHAR}, #{innerPic,jdbcType=VARCHAR}, 
      #{outPic,jdbcType=VARCHAR}, #{status,jdbcType=VARCHAR}, #{catgDesc,jdbcType=VARCHAR}, 
      #{citeCatgItemId,jdbcType=BIGINT}, #{createTime,jdbcType=TIMESTAMP}, #{createUser,jdbcType=VARCHAR}, 
      #{lastModifyDate,jdbcType=TIMESTAMP}, #{lastModifyUser,jdbcType=VARCHAR}, #{showSum,jdbcType=INTEGER}, 
      #{assortmentId,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.ysten.local.bss.bsstv.domain.RecCategory">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    insert into rec_category
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="catgId != null">
        CATG_ID,
      </if>
      <if test="fid != null">
        FID,
      </if>
      <if test="grade != null">
        Grade,
      </if>
      <if test="type != null">
        Type,
      </if>
      <if test="name != null">
        Name,
      </if>
      <if test="fdncode != null">
        FDNCode,
      </if>
      <if test="catgAlias != null">
        CATG_ALIAS,
      </if>
      <if test="titleName != null">
        TITLE_NAME,
      </if>
      <if test="parentCatgId != null">
        PARENT_CATG_ID,
      </if>
      <if test="catgNumber != null">
        CATG_NUMBER,
      </if>
      <if test="actionTypeId != null">
        ACTION_TYPE_ID,
      </if>
      <if test="actionLink != null">
        ACTION_LINK,
      </if>
      <if test="subStyleId != null">
        SUB_STYLE_ID,
      </if>
      <if test="catgTypeId != null">
        CATG_TYPE_ID,
      </if>
      <if test="innerPic != null">
        INNER_PIC,
      </if>
      <if test="outPic != null">
        OUT_PIC,
      </if>
      <if test="status != null">
        STATUS,
      </if>
      <if test="catgDesc != null">
        CATG_DESC,
      </if>
      <if test="citeCatgItemId != null">
        CITE_CATG_ITEM_ID,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="createUser != null">
        CREATE_USER,
      </if>
      <if test="lastModifyDate != null">
        LAST_MODIFY_DATE,
      </if>
      <if test="lastModifyUser != null">
        LAST_MODIFY_USER,
      </if>
      <if test="showSum != null">
        SHOW_SUM,
      </if>
      <if test="assortmentId != null">
        ASSORTMENT_ID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="catgId != null">
        #{catgId,jdbcType=BIGINT},
      </if>
      <if test="fid != null">
        #{fid,jdbcType=BIGINT},
      </if>
      <if test="grade != null">
        #{grade,jdbcType=BIGINT},
      </if>
      <if test="type != null">
        #{type,jdbcType=INTEGER},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="fdncode != null">
        #{fdncode,jdbcType=VARCHAR},
      </if>
      <if test="catgAlias != null">
        #{catgAlias,jdbcType=VARCHAR},
      </if>
      <if test="titleName != null">
        #{titleName,jdbcType=VARCHAR},
      </if>
      <if test="parentCatgId != null">
        #{parentCatgId,jdbcType=BIGINT},
      </if>
      <if test="catgNumber != null">
        #{catgNumber,jdbcType=INTEGER},
      </if>
      <if test="actionTypeId != null">
        #{actionTypeId,jdbcType=VARCHAR},
      </if>
      <if test="actionLink != null">
        #{actionLink,jdbcType=VARCHAR},
      </if>
      <if test="subStyleId != null">
        #{subStyleId,jdbcType=VARCHAR},
      </if>
      <if test="catgTypeId != null">
        #{catgTypeId,jdbcType=VARCHAR},
      </if>
      <if test="innerPic != null">
        #{innerPic,jdbcType=VARCHAR},
      </if>
      <if test="outPic != null">
        #{outPic,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="catgDesc != null">
        #{catgDesc,jdbcType=VARCHAR},
      </if>
      <if test="citeCatgItemId != null">
        #{citeCatgItemId,jdbcType=BIGINT},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null">
        #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="lastModifyDate != null">
        #{lastModifyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModifyUser != null">
        #{lastModifyUser,jdbcType=VARCHAR},
      </if>
      <if test="showSum != null">
        #{showSum,jdbcType=INTEGER},
      </if>
      <if test="assortmentId != null">
        #{assortmentId,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ysten.local.bss.bsstv.domain.RecCategory">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    update rec_category
    <set>
      <if test="fid != null">
        FID = #{fid,jdbcType=BIGINT},
      </if>
      <if test="grade != null">
        Grade = #{grade,jdbcType=BIGINT},
      </if>
      <if test="type != null">
        Type = #{type,jdbcType=INTEGER},
      </if>
      <if test="name != null">
        Name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="fdncode != null">
        FDNCode = #{fdncode,jdbcType=VARCHAR},
      </if>
      <if test="catgAlias != null">
        CATG_ALIAS = #{catgAlias,jdbcType=VARCHAR},
      </if>
      <if test="titleName != null">
        TITLE_NAME = #{titleName,jdbcType=VARCHAR},
      </if>
      <if test="parentCatgId != null">
        PARENT_CATG_ID = #{parentCatgId,jdbcType=BIGINT},
      </if>
      <if test="catgNumber != null">
        CATG_NUMBER = #{catgNumber,jdbcType=INTEGER},
      </if>
      <if test="actionTypeId != null">
        ACTION_TYPE_ID = #{actionTypeId,jdbcType=VARCHAR},
      </if>
      <if test="actionLink != null">
        ACTION_LINK = #{actionLink,jdbcType=VARCHAR},
      </if>
      <if test="subStyleId != null">
        SUB_STYLE_ID = #{subStyleId,jdbcType=VARCHAR},
      </if>
      <if test="catgTypeId != null">
        CATG_TYPE_ID = #{catgTypeId,jdbcType=VARCHAR},
      </if>
      <if test="innerPic != null">
        INNER_PIC = #{innerPic,jdbcType=VARCHAR},
      </if>
      <if test="outPic != null">
        OUT_PIC = #{outPic,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        STATUS = #{status,jdbcType=VARCHAR},
      </if>
      <if test="catgDesc != null">
        CATG_DESC = #{catgDesc,jdbcType=VARCHAR},
      </if>
      <if test="citeCatgItemId != null">
        CITE_CATG_ITEM_ID = #{citeCatgItemId,jdbcType=BIGINT},
      </if>
      <if test="createTime != null">
        CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null">
        CREATE_USER = #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="lastModifyDate != null">
        LAST_MODIFY_DATE = #{lastModifyDate,jdbcType=TIMESTAMP},
      </if>
      <if test="lastModifyUser != null">
        LAST_MODIFY_USER = #{lastModifyUser,jdbcType=VARCHAR},
      </if>
      <if test="showSum != null">
        SHOW_SUM = #{showSum,jdbcType=INTEGER},
      </if>
      <if test="assortmentId != null">
        ASSORTMENT_ID = #{assortmentId,jdbcType=VARCHAR},
      </if>
    </set>
    where CATG_ID = #{catgId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ysten.local.bss.bsstv.domain.RecCategory">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 15 14:22:49 CST 2014.
    -->
    update rec_category
    set FID = #{fid,jdbcType=BIGINT},
      Grade = #{grade,jdbcType=BIGINT},
      Type = #{type,jdbcType=INTEGER},
      Name = #{name,jdbcType=VARCHAR},
      FDNCode = #{fdncode,jdbcType=VARCHAR},
      CATG_ALIAS = #{catgAlias,jdbcType=VARCHAR},
      TITLE_NAME = #{titleName,jdbcType=VARCHAR},
      PARENT_CATG_ID = #{parentCatgId,jdbcType=BIGINT},
      CATG_NUMBER = #{catgNumber,jdbcType=INTEGER},
      ACTION_TYPE_ID = #{actionTypeId,jdbcType=VARCHAR},
      ACTION_LINK = #{actionLink,jdbcType=VARCHAR},
      SUB_STYLE_ID = #{subStyleId,jdbcType=VARCHAR},
      CATG_TYPE_ID = #{catgTypeId,jdbcType=VARCHAR},
      INNER_PIC = #{innerPic,jdbcType=VARCHAR},
      OUT_PIC = #{outPic,jdbcType=VARCHAR},
      STATUS = #{status,jdbcType=VARCHAR},
      CATG_DESC = #{catgDesc,jdbcType=VARCHAR},
      CITE_CATG_ITEM_ID = #{citeCatgItemId,jdbcType=BIGINT},
      CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
      CREATE_USER = #{createUser,jdbcType=VARCHAR},
      LAST_MODIFY_DATE = #{lastModifyDate,jdbcType=TIMESTAMP},
      LAST_MODIFY_USER = #{lastModifyUser,jdbcType=VARCHAR},
      SHOW_SUM = #{showSum,jdbcType=INTEGER},
      ASSORTMENT_ID = #{assortmentId,jdbcType=VARCHAR}
    where CATG_ID = #{catgId,jdbcType=BIGINT}
  </update>


    <select id="getTotalCount" parameterType="java.util.Map" resultType="java.lang.Integer">
        select count(CATG_ID) from rec_category
        <where>
            status='ONLINE'
            <if test="cateId">
              and  CATG_ID = #{cateId,jdbcType=BIGINT}
            </if>
            <if test="categoryName != null and categoryName!=''">
                and Name like '%${categoryName}%'
            </if>

        </where>
    </select>

    <select id="findCategoryList" parameterType="map" resultMap="BaseResultMap">
        select <include refid="Base_Column_List"/>
        from rec_category
        <where>
            status='ONLINE'
            <if test="cateId">
               and CATG_ID = #{cateId,jdbcType=BIGINT}
            </if>
            <if test="categoryName != null and categoryName!=''">
                and Name like '%${categoryName}%'
            </if>

        </where>
        order by CATG_ID desc
        limit #{pageNo} , #{pageSize}
    </select>
</mapper>